/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JDialog.java to edit this template
 */
package com.app.coffee.product;

import javax.swing.JFrame;
import com.app.coffee.product.Category;
import javax.swing.JOptionPane;

/**
 *
 * @author Acer
 */
public class InputCategoryForm extends javax.swing.JDialog {
    
    private ProductForm productForm;
    
    
    private void setScreen() {
        setDefaultLookAndFeelDecorated(true);
        setSize(500,300);
        setLocationRelativeTo(null);
        setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);
    }
    /**
     * Creates new form InputCategoryForm
     */
    public InputCategoryForm(ProductForm productForm) {
//        super(parent, modal);
        initComponents();
        setScreen();
        this.productForm = productForm; // Gán tham chiếu của ProductForm từ tham số constructor

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        headerPanel = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        FormPanel = new javax.swing.JPanel();
        idLabel = new javax.swing.JLabel();
        txtId = new javax.swing.JTextField();
        categoryLabel = new javax.swing.JLabel();
        txtCategory = new javax.swing.JTextField();
        descriptionLabel = new javax.swing.JLabel();
        txtDescription = new javax.swing.JTextField();
        btnPanel = new javax.swing.JPanel();
        BtnAddCategory = new javax.swing.JButton();
        btnReturn = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        getContentPane().setLayout(new java.awt.BorderLayout(2, 2));

        headerPanel.setBackground(new java.awt.Color(204, 255, 204));

        jLabel1.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Category");

        javax.swing.GroupLayout headerPanelLayout = new javax.swing.GroupLayout(headerPanel);
        headerPanel.setLayout(headerPanelLayout);
        headerPanelLayout.setHorizontalGroup(
            headerPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 520, Short.MAX_VALUE)
        );
        headerPanelLayout.setVerticalGroup(
            headerPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 50, Short.MAX_VALUE)
        );

        getContentPane().add(headerPanel, java.awt.BorderLayout.PAGE_START);

        FormPanel.setBackground(new java.awt.Color(255, 255, 255));
        FormPanel.setLayout(new java.awt.GridLayout(3, 2, -250, 10));

        idLabel.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        idLabel.setText("ID :");
        FormPanel.add(idLabel);

        txtId.setBackground(new java.awt.Color(204, 204, 204));
        txtId.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        FormPanel.add(txtId);

        categoryLabel.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        categoryLabel.setText("Category :");
        FormPanel.add(categoryLabel);

        txtCategory.setBackground(new java.awt.Color(204, 204, 204));
        txtCategory.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        FormPanel.add(txtCategory);

        descriptionLabel.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        descriptionLabel.setText("Description :");
        FormPanel.add(descriptionLabel);

        txtDescription.setBackground(new java.awt.Color(204, 204, 204));
        txtDescription.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        FormPanel.add(txtDescription);

        getContentPane().add(FormPanel, java.awt.BorderLayout.CENTER);

        btnPanel.setBackground(new java.awt.Color(255, 255, 255));
        btnPanel.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 100, 20));

        BtnAddCategory.setBackground(new java.awt.Color(0, 255, 0));
        BtnAddCategory.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        BtnAddCategory.setForeground(new java.awt.Color(255, 255, 255));
        BtnAddCategory.setText("Add+");
        BtnAddCategory.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnAddCategoryActionPerformed(evt);
            }
        });
        btnPanel.add(BtnAddCategory);

        btnReturn.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        btnReturn.setText("Return");
        btnReturn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnReturnActionPerformed(evt);
            }
        });
        btnPanel.add(btnReturn);

        getContentPane().add(btnPanel, java.awt.BorderLayout.SOUTH);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void BtnAddCategoryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnAddCategoryActionPerformed
        String ID = "", category = "", description = "";
        
        ID = txtId.getText();
        category = txtCategory.getText();
        description = txtDescription.getText();
        boolean isOk = true;
        
        if (ID.isEmpty() || category.isEmpty() || description.isEmpty()) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng nhập đủ thông tin.");
            return;
        }
        if (txtId.getText().isEmpty()) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng nhập ID.");
            return; // Trả về ngay lập tức nếu không có ID được nhập
        }
        if (txtCategory.getText().isEmpty()) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng nhập Category.");
            return; // Trả về ngay lập tức nếu không có ID được nhập
        }
        if (txtDescription.getText().isEmpty()) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng nhập Description.");
            return; // Trả về ngay lập tức nếu không có ID được nhập
        }
        
        CategoryDao categoryDao = new CategoryDao();
        categoryDao.insertCat(ID, category, description);
        if (productForm != null) {
            productForm.updateCategoryTable();
            productForm.displayCategories();
        }
    }//GEN-LAST:event_BtnAddCategoryActionPerformed

    private void btnReturnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnReturnActionPerformed
        this.dispose();
    }//GEN-LAST:event_btnReturnActionPerformed

    /**
     * @param args the command line arguments
     */

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BtnAddCategory;
    private javax.swing.JPanel FormPanel;
    private javax.swing.JPanel btnPanel;
    private javax.swing.JButton btnReturn;
    private javax.swing.JLabel categoryLabel;
    private javax.swing.JLabel descriptionLabel;
    private javax.swing.JPanel headerPanel;
    private javax.swing.JLabel idLabel;
    private javax.swing.JLabel jLabel1;
    protected javax.swing.JTextField txtCategory;
    protected javax.swing.JTextField txtDescription;
    public javax.swing.JTextField txtId;
    // End of variables declaration//GEN-END:variables

}
